<%- include("partials/header") %>

<div class="container my-5" style="max-width: 540px;">
  <h1 class="mb-4">Prihlásenie</h1>

  <% if (errors && errors.length > 0) { %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <strong>Chyby pri prihlasovaní:</strong>
      <ul class="mb-0 mt-2">
        <% errors.forEach(e => { %>
          <li><%= e %></li>
        <% }) %>
      </ul>
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
  <% } %>

  <form action="/login" method="POST" class="js-validate" novalidate>
    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
    <div class="mb-3">
      <label for="email" class="form-label">E-mail</label>
      <input
        type="email"
        class="form-control"
        id="email"
        name="email"
        value="<%= formData && formData.email ? formData.email : '' %>"
        required
      />
    </div>

    <div class="mb-3">
      <label for="password" class="form-label">Heslo</label>
      <input
        type="password"
        class="form-control"
        id="password"
        name="password"
        required
      />
    </div>

    <div class="d-grid gap-2 d-sm-flex justify-content-sm-start">
      <button type="submit" class="btn btn-primary"> <i class="fa-solid fa-arrow-right-to-bracket"></i> Prihlásiť</button>
      <a href="/" class="btn btn-secondary">
        <i class="fa-solid fa-arrow-left me-2" aria-hidden="true"></i>
        Späť na domov
      </a>
    </div>

    <p class="text-muted mt-3 mb-0" style="font-size: 0.95rem;">
      Predvolené účty (môžeš zmeniť v .env):<br>
      <strong>admin:</strong> admin@gym.local / admin123<br>
      <strong>trainer:</strong> trainer@gym.local / trainer123<br>
      <strong>user1:</strong> user1@gym.local / userone123<br>
      <strong>user2:</strong> user2@gym.local / usertwo123
    </p>
  </form>
</div>

<%- include("partials/footer") %>
